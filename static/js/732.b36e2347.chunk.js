"use strict";(self.webpackChunkstandard=self.webpackChunkstandard||[]).push([[732],{5608:function(n,e,t){var a=t(4569),o=t.n(a),i=t(7850),s=o().create({baseURL:i._n});s.interceptors.request.use((function(n){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e).accessToken;n.headers.common.Authorization="Bearer ".concat(t)}return n})),e.Z=s},4086:function(n,e,t){var a=t(5608),o={getThongTinHeThongRap:function(){return a.Z.get("/QuanLyRap/LayThongTinHeThongRap")},getThongTinLichChieuHeThongRap:function(){return a.Z.get("/QuanLyRap/LayThongTinLichChieuHeThongRap?maNhom=GP09")},getThongTinLichChieuPhim:function(n){var e="/QuanLyRap/LayThongTinLichChieuPhim?MaPhim=".concat(n);return a.Z.get(e)},getListCumRapTheoHeThong:function(n){var e="/QuanLyRap/LayThongTinCumRapTheoHeThong?maHeThongRap=".concat(n);return a.Z.get(e)}};e.Z=o},934:function(n,e,t){var a=t(5608),o={postDangKy:function(n){return a.Z.post("/QuanLyNguoiDung/DangKy",n)},postDangNhap:function(n){return a.Z.post("/QuanLyNguoiDung/DangNhap",n)},getDanhSachNguoiDung:function(){return a.Z.get("/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=GP09")},getDanhSachNguoiDungPhanTrang:function(n,e){return a.Z.get("/QuanLyNguoiDung/LayDanhSachNguoiDungPhanTrang?MaNhom=GP09",{soTrang:n,soPhanTuTrenTrang:e})},postThemNguoiDung:function(n){return a.Z.post("/QuanLyNguoiDung/ThemNguoiDung",n)},deleteUser:function(n){var e="/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=".concat(n);return a.Z.delete(e)},editTaiKhoan:function(n){return a.Z.put("/QuanLyNguoiDung/CapNhatThongTinNguoiDung",n)},getThongTinTaiKhoan:function(n){return a.Z.post("/QuanLyNguoiDung/ThongTinTaiKhoan",n)}};e.Z=o},2732:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var a=t(3433),o=t(9439),i=t(1413),s=t(5987),r=t(2791),c=t(6789),l=t(8596),u=t(132),d=t(5705),h=t(8167),p=t(873),g=t(1370),m=t(4859),f=t(1830),x=t.n(f),v=t(5720),j=t(8154),y=t(3364),N=t(998),T=t(8826),b=t(9271),Z=t(7850),D=t(7235),k=t(9708),C=t(184),L=["children","value","index","isDesktop"],S=(0,l.Z)((function(n){return{appBar:{backgroundColor:"transparent",color:"black",boxShadow:"none","& .MuiTabs-indicator":{height:0}},field:{maxWidth:500,paddingRight:16,paddingLeft:16},password:{position:"relative"},eye:{position:"absolute",top:31,right:9,cursor:"pointer"},tabButton:{opacity:1,color:"#000",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',"& > span":{transition:"all 0.2s","&:hover":{fontSize:"15px"}}},tabSelected:{color:"#fa5238"},td:{"& td":{whiteSpace:"nowrap"}},extendedIcon:{marginRight:n.spacing(1)}}}));function R(n){var e=n.children,t=n.value,a=n.index,o=n.isDesktop,r=(0,s.Z)(n,L);return(0,C.jsx)("div",(0,i.Z)((0,i.Z)({hidden:t!==a},r),{},{children:t===a&&(0,C.jsx)(m.Z,{style:{padding:o?"24px":"24px 0px 0px"},children:e})}))}function w(){var n,e,t,s,l,m=(0,b.k6)(),f=(0,y.Z)(),L=(0,j.Z)(f.breakpoints.up("md")),w=S(),K=(0,c.I0)(),P=(0,c.v9)((function(n){return n.usersManagementReducer})),H=P.successInfoUser,U=P.loadingInfoUser,M=(0,c.v9)((function(n){return n.authReducer})).currentUser,B=(0,c.v9)((function(n){return n.movieDetailReducer})).commentList,Q=(0,r.useState)({ticket:0,posts:0,likePosts:0,total:0}),G=(0,o.Z)(Q,2),q=G[0],I=G[1],V=(0,c.v9)((function(n){return n.usersManagementReducer})),z=V.successUpdateUser,E=V.errorUpdateUser,_=V.loadingUpdateUser,F=r.useState(0),A=(0,o.Z)(F,2),J=A[0],W=A[1],X=(0,r.useState)("password"),$=(0,o.Z)(X,2),O=$[0],Y=$[1];(0,r.useEffect)((function(){return K((0,D.Se)({taiKhoan:null===M||void 0===M?void 0:M.taiKhoan})),K((0,k.d7)()),function(){return K((0,D.wL)())}}),[]),(0,r.useEffect)((function(){if(B){var n=B.reduce((function(n,e){var t=n.posts,a=n.likePosts;return e.avtId===M.taiKhoan&&(t++,a+=e.userLikeThisComment.length),(0,i.Z)((0,i.Z)({},n),{},{posts:t,likePosts:a})}),{posts:0,likePosts:0}),e=n.posts,t=n.likePosts;I((function(n){return(0,i.Z)((0,i.Z)({},n),{},{posts:e,likePosts:t})}))}if(H){var a=H.thongTinDatVe.length,o=H.thongTinDatVe.reduce((function(n,e){return n+e.danhSachGhe.length*e.giaVe}),0);I((function(n){return(0,i.Z)((0,i.Z)({},n),{},{ticket:a,total:o})}))}}),[B,H]),(0,r.useEffect)((function(){z&&x().fire({position:"center",icon:"success",title:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",showConfirmButton:!1,timer:1500})}),[z]);var nn=u.Ry().shape({taiKhoan:u.Z_().required("*T\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng !"),matKhau:u.Z_().required("*M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng !"),email:u.Z_().required("*Email kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng !").email("* Email kh\xf4ng h\u1ee3p l\u1ec7 "),soDt:u.Z_().required("*S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng !").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7!"),hoTen:u.Z_().required("*T\xean kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng !")}),en=function(){Y("password"===O?"text":"password")};return(0,C.jsxs)("div",{className:"bootstrap snippet mb-4",children:[(0,C.jsx)("br",{}),(0,C.jsxs)("div",{className:"row",children:[(0,C.jsxs)("div",{className:"col-sm-3",children:[(0,C.jsxs)("div",{className:"text-center",children:[(0,C.jsx)("img",{src:Z.lq,className:"avatar rounded-circle img-thumbnail ".concat(L?"w-100":"w-50"),alt:"avatar"}),(0,C.jsx)("h1",{className:"my-2",children:null===H||void 0===H?void 0:H.taiKhoan})]}),"QuanTri"===M.maLoaiNguoiDung&&(0,C.jsx)("div",{className:"text-center mb-2",children:(0,C.jsxs)(T.Z,{variant:"extended",color:"primary",onClick:function(){return m.push("/admin/users")},children:[(0,C.jsx)(N.Z,{className:w.extendedIcon}),"T\u1edbi trang qu\u1ea3n tr\u1ecb"]})}),(0,C.jsxs)("ul",{className:"list-group",children:[(0,C.jsx)("li",{className:"list-group-item text-muted",children:"Ho\u1ea1t \u0111\u1ed9ng"}),(0,C.jsxs)("li",{className:"list-group-item text-right",children:[(0,C.jsx)("span",{className:"float-left",children:(0,C.jsx)("strong",{children:"B\xecnh lu\u1eadn"})}),q.posts]}),(0,C.jsxs)("li",{className:"list-group-item text-right",children:[(0,C.jsx)("span",{className:"float-left",children:(0,C.jsx)("strong",{children:"B\xecnh lu\u1eadn \u0111\u01b0\u1ee3c th\xedch "})}),q.likePosts]}),(0,C.jsxs)("li",{className:"list-group-item text-right",children:[(0,C.jsx)("span",{className:"float-left",children:(0,C.jsx)("strong",{children:"S\u1ed1 l\u1ea7n thanh to\xe1n"})}),q.ticket]}),(0,C.jsxs)("li",{className:"list-group-item text-right",children:[(0,C.jsx)("span",{className:"float-left",children:(0,C.jsx)("strong",{children:"T\u1ed5ng ti\u1ec1n $"})}),q.total]})]})]}),(0,C.jsxs)("div",{className:"col-sm-9 py-3 px-0",children:[(0,C.jsx)(h.Z,{className:w.appBar,position:"static",children:(0,C.jsxs)(p.Z,{value:J,onChange:function(n,e){W(e)},centered:!L,children:[(0,C.jsx)(g.Z,{disableRipple:!0,classes:{root:w.tabButton,selected:w.tabSelected},label:"Th\xf4ng tin t\xe0i kho\u1ea3n"}),(0,C.jsx)(g.Z,{disableRipple:!0,classes:{root:w.tabButton,selected:w.tabSelected},label:"L\u1ecbch s\u1eed \u0111\u1eb7t v\xe9"})]})}),(0,C.jsx)(R,{value:J,index:0,children:(0,C.jsx)(d.J9,{initialValues:{taiKhoan:null!==(n=null===H||void 0===H?void 0:H.taiKhoan)&&void 0!==n?n:"",matKhau:null!==(e=null===H||void 0===H?void 0:H.matKhau)&&void 0!==e?e:"",email:null!==(t=null===H||void 0===H?void 0:H.email)&&void 0!==t?t:"",soDt:null!==(s=null===H||void 0===H?void 0:H.soDT)&&void 0!==s?s:"",maNhom:"GP09",maLoaiNguoiDung:"KhachHang",hoTen:null!==(l=null===H||void 0===H?void 0:H.hoTen)&&void 0!==l?l:""},enableReinitialize:!0,validationSchema:nn,onSubmit:function(n){_||K((0,D.tD)(n))},children:function(n){return(0,C.jsxs)(d.l0,{className:"".concat(w.field),children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"T\xe0i kho\u1ea3n\xa0"}),(0,C.jsx)(d.Bc,{name:"taiKhoan",render:function(n){return(0,C.jsx)("span",{className:"text-danger",children:n})}}),(0,C.jsx)(d.gN,{disabled:!0,name:"taiKhoan",type:"text",className:"form-control",onChange:n.handleChange})]}),(0,C.jsxs)("div",{className:"form-group ".concat(w.password),children:[(0,C.jsx)("label",{children:"M\u1eadt kh\u1ea9u\xa0"}),(0,C.jsx)(d.Bc,{name:"matKhau",render:function(n){return(0,C.jsx)("span",{className:"text-danger",children:n})}}),(0,C.jsx)(d.gN,{name:"matKhau",type:O,className:"form-control",onChange:n.handleChange}),(0,C.jsx)("div",{className:w.eye,onClick:en,children:"password"!==O?(0,C.jsx)("i",{className:"fa fa-eye-slash"}):(0,C.jsx)("i",{className:"fa fa-eye"})})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"H\u1ecd v\xe0 t\xean\xa0"}),(0,C.jsx)(d.Bc,{name:"hoTen",render:function(n){return(0,C.jsx)("span",{className:"text-danger",children:n})}}),(0,C.jsx)(d.gN,{name:"hoTen",type:"text",className:"form-control",onChange:n.handleChange})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"Email\xa0"}),(0,C.jsx)(d.Bc,{name:"email",render:function(n){return(0,C.jsx)("span",{className:"text-danger",children:n})}}),(0,C.jsx)(d.gN,{name:"email",type:"email",className:"form-control",onChange:n.handleChange})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i\xa0"}),(0,C.jsx)(d.Bc,{name:"soDt",render:function(n){return(0,C.jsx)("span",{className:"text-danger",children:n})}}),(0,C.jsx)(d.gN,{name:"soDt",type:"text",className:"form-control",onChange:n.handleChange})]}),(0,C.jsxs)("div",{className:"text-left",children:[(0,C.jsx)("button",{type:"submit",className:"btn btn-success",disable:_.toString(),children:"C\u1eadp nh\u1eadt"}),E&&(0,C.jsx)("div",{className:"alert alert-danger",children:(0,C.jsx)("span",{children:E})})]})]})}})}),(0,C.jsx)(R,{value:J,index:1,style:{padding:L?"0px 0px":"0px 16px"},isDesktop:L,children:(0,C.jsx)("div",{className:"table-responsive",children:(0,C.jsxs)("table",{className:"table table-striped table-hover table-bordered",children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{scope:"col",children:"Stt"}),(0,C.jsx)("th",{scope:"col",children:"T\xean phim"}),(0,C.jsx)("th",{scope:"col",children:"Th\u1eddi l\u01b0\u1ee3ng phim"}),(0,C.jsx)("th",{scope:"col",children:"Ng\xe0y \u0111\u1eb7t"}),(0,C.jsx)("th",{scope:"col",children:"T\xean R\u1ea1p"}),(0,C.jsx)("th",{scope:"col",children:"M\xe3 v\xe9"}),(0,C.jsx)("th",{scope:"col",children:"T\xean gh\u1ebf"}),(0,C.jsx)("th",{scope:"col",children:"Gi\xe1 v\xe9(vn\u0111)"}),(0,C.jsx)("th",{scope:"col",children:"T\u1ed5ng ti\u1ec1n(vn\u0111)"})]})}),(0,C.jsx)("tbody",{children:null===H||void 0===H?void 0:H.thongTinDatVe.map((function(n,e){return(0,C.jsxs)("tr",{className:w.td,children:[(0,C.jsx)("th",{scope:"row",children:e+1}),(0,C.jsx)("td",{children:n.tenPhim}),(0,C.jsx)("td",{children:n.thoiLuongPhim}),(0,C.jsxs)("td",{children:[new Date(n.ngayDat).toLocaleDateString(),","," ",new Date(n.ngayDat).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),(0,C.jsxs)("td",{children:[n.danhSachGhe[0].tenHeThongRap,","," ",n.danhSachGhe[0].tenRap]}),(0,C.jsx)("td",{children:n.maVe}),(0,C.jsx)("td",{children:(t=n.danhSachGhe,t.reduce((function(n,e){return[].concat((0,a.Z)(n),[e.tenGhe])}),[]).join(", "))}),(0,C.jsx)("td",{children:new Intl.NumberFormat("it-IT",{style:"decimal"}).format(n.giaVe)}),(0,C.jsx)("td",{children:new Intl.NumberFormat("it-IT",{style:"decimal"}).format(n.giaVe*n.danhSachGhe.length)})]},n.maVe);var t})).reverse()})]})})})]})]}),U&&(0,C.jsx)("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",backgroundColor:"rgb(255 255 255 / 67%)",zIndex:1e3},children:(0,C.jsx)(v.Z,{style:{margin:"auto"}})})]})}},9708:function(n,e,t){t.d(e,{d7:function(){return l},xC:function(){return c},xG:function(){return d},w:function(){return u}});var a=t(4569),o=t.n(a)().create({baseURL:"https://6092b87185ff5100172137f4.mockapi.io/"}),i={getComment:function(){return o.get("/commentMovie")},postComment:function(n){return o.post("/commentMovie",n)},likeComment:function(n,e){var t="/commentMovie/".concat(n);return o.put(t,e)}},s=t(4086),r=t(6223),c=function(n){return function(e){e({type:r.W9}),s.Z.getThongTinLichChieuPhim(n).then((function(n){e({type:r.TZ,payload:{data:n.data}})})).catch((function(n){var t;e({type:r.af,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}},l=function(){return function(n){n({type:r.ff}),i.getComment().then((function(e){n({type:r.uV,payload:{data:e.data}})})).catch((function(e){var t;n({type:r.rq,payload:{error:null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:e.message}})}))}},u=function(n){return function(e){e({type:r.Fq}),i.postComment(n).then((function(n){e({type:r.MX,payload:{data:n.data}})})).catch((function(n){var t;e({type:r.z8,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}},d=function(n,e){return function(t){t({type:r.pM}),i.likeComment(n,e).then((function(n){t({type:r.oP,payload:{data:n.data}})})).catch((function(n){var e;t({type:r.GA,payload:{error:null!==(e=n.response)&&void 0!==e&&e.data?n.response.data:n.message}})}))}}},7235:function(n,e,t){t.d(e,{DU:function(){return u},Fp:function(){return i},Se:function(){return d},h8:function(){return s},pe:function(){return l},tD:function(){return c},wL:function(){return r}});var a=t(934),o=t(4731),i=function(){return function(n){n({type:o.eK}),a.Z.getDanhSachNguoiDung().then((function(e){n({type:o.yK,payload:{data:e.data}})})).catch((function(e){var t;n({type:o.pw,payload:{error:null!==(t=e.response)&&void 0!==t&&t.data?e.response.data:e.message}})}))}},s=function(n){return function(e){e({type:o.T9}),a.Z.deleteUser(n).then((function(n){e({type:o.Hn,payload:{data:n.data}})})).catch((function(n){var t;e({type:o.ij,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}},r=function(){return function(n){n({type:o.nR})}},c=function(n){return function(e){e({type:o.qu}),a.Z.editTaiKhoan(n).then((function(n){e({type:o.wV,payload:{data:n.data}})})).catch((function(n){var t;e({type:o.AC,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}},l=function(n){return function(e){e({type:o.Hz}),a.Z.postThemNguoiDung(n).then((function(n){e({type:o.qH,payload:{data:n.data}})})).catch((function(n){var t;e({type:o.Jh,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}},u=function(n){return function(e){e({type:o.sj,payload:{isExistUserModified:n}})}},d=function(n){return function(e){e({type:o.dz}),a.Z.getThongTinTaiKhoan(n).then((function(n){e({type:o.uH,payload:{data:n.data}})})).catch((function(n){var t;e({type:o.vQ,payload:{error:null!==(t=n.response)&&void 0!==t&&t.data?n.response.data:n.message}})}))}}}}]);
//# sourceMappingURL=732.b36e2347.chunk.js.map